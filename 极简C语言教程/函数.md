# 函数

前面我们已经使用了`printf`函数，这一节，我们就学习如何去创建一个函数，来让别人进行调用。

在调用`printf`函数时，已经为我们展现了创建函数的两大特点：

- 代码复用。
- 封装复杂度，若需要将`printf`输出的位置修改，我们只需要去修改`printf`函数的代码即可。

## 定义

- 以求两个数之和的函数来示范函数的定义

```c
// 其格式为 返回值类型 函数名(形参){函数体}
// 如果没有返回值，返回值类型使用void
// 形参表明调用时需要传递参数个数与其类型。
// 如果没有形参，请用void标识
int int_sum(int a,int b){
    return a+b;
}
```

- 如果函数的形参要求为数组，可以将形参声明为类似`int arr[]`形式，但是函数获取不到数组的长度，只能显示传入，具体原因请看数组和指针两节内容。
- 传入多维数组时，形参只能省略第一维度的长度。
- 返回值：`return 表达式;`
- 结束函数
  - `return`可以通过返回值来结束函数。
  - `stdlib.h`提供的`exit(数字);`，可以通过数字来表明结束的原因。

## 声明

**函数在调用前必须被声明**，其格式为`返回值类型 函数名(形参);`，通过函数的声明，编译器能了解到函数的返回值类型，调用时需要传递多少个参数，每个参数的类型，因此也将函数声明称之为**函数原型**。

## 调用

调用函数时，需要传递给函数相应的参数，这些参数被称之为实参。

由于函数调用时，需要频繁的分配、释放空间，因此函数调用是在一块动态分配内存区域处理的，我们常称之为栈内存(其调用过程类似于栈，由于先调用的函数依赖与后进入的函数的结果，因此后调用的函数，反而需要先处理)。

调用函数时，会根据函数原型在动态分配区域分配合适的空间，然后将实参的值直接拷贝到分配的空间中(值传递)，因此在函数中对其修改是不会影响到实参的值。

## 示例

```c
#include <stdio.h>

int int_sum(int, int);

int main() {
    int a = 3;
    int b = 4;
    printf("%d", int_sum(a, b));
}

int int_sum(int a, int b) {
    return a + b;
}
```

